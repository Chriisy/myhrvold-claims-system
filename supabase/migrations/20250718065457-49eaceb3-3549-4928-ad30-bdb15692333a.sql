-- Insert 10 test claims with Christopher Strøm as technician
INSERT INTO public.claims (
  claim_number,
  customer_name,
  customer_contact,
  customer_email,
  customer_phone,
  customer_address,
  customer_number,
  product_name,
  product_model,
  serial_number,
  purchase_date,
  warranty_period,
  supplier,
  issue_type,
  issue_description,
  detailed_description,
  urgency_level,
  department,
  technician_name,
  ms_job_number,
  evatic_job_number,
  work_hours,
  hourly_rate,
  travel_hours,
  travel_distance_km,
  vehicle_cost_per_km,
  parts_cost,
  consumables_cost,
  external_services_cost,
  expected_refund,
  internal_notes,
  customer_notes,
  created_by,
  status
) VALUES 
-- Claim 1 - Comenda
(
  'RK-2024-101',
  'Restaurant Havfruen AS',
  'Lars Eriksen',
  'lars@havfruen.no',
  '+47 22 33 44 55',
  'Storgata 15, 0184 Oslo',
  'KUND-001',
  'Comenda Oppvaskmaskin',
  'AC122',
  'COM-2023-8875',
  '2023-03-15',
  '2 år',
  'comenda',
  'warranty',
  'Maskin stopper midt i syklus',
  'Oppvaskmaskinen stopper plutselig midt i vaskesyklusen. Ingen feilmeldinger vises på displayet. Problemet oppstod første gang forrige uke og har nå skjedd flere ganger.',
  'high',
  'oslo',
  'Christopher Strøm',
  'MS-2024-445',
  'EV-2024-112',
  4.5,
  850.0,
  1.0,
  45.0,
  7.5,
  2500.0,
  150.0,
  0.0,
  4662.5,
  'Sjekket strømforsyning og sikringer - alt OK. Mistenker problem med hovedkort.',
  'Kunde ønsker rask løsning da dette påvirker drift betydelig.',
  'cd5e0ac0-f013-4ffc-83f1-80424af97906',
  'pending_approval'
),
-- Claim 2 - Rational
(
  'RK-2024-102',
  'Bakeri Nordahl',
  'Kari Nordahl',
  'kari@nordahl-bakeri.no',
  '+47 33 44 55 66',
  'Bygdøy Allé 22, 0257 Oslo',
  'KUND-002',
  'Rational SelfCookingCenter',
  'SCC 101G',
  'RAT-2022-4421',
  '2022-08-20',
  '3 år',
  'rational',
  'service_callback',
  'Ujevn temperatur i ovnen',
  'Kunden melder at ovnen ikke holder jevn temperatur. Bakeresultatet blir ujevnt med noen områder som er understeekt og andre som er brent.',
  'normal',
  'bergen',
  'Christopher Strøm',
  'MS-2024-446',
  'EV-2024-113',
  3.0,
  900.0,
  2.0,
  85.0,
  7.5,
  1200.0,
  80.0,
  500.0,
  4950.0,
  'Utført kalibrering av temperatursensorer. Byttet defekt sensor i høyre hjørne.',
  'Kunde sehr fornøyd med service. Ovnen fungerer nå perfekt.',
  'cd5e0ac0-f013-4ffc-83f1-80424af97906',
  'resolved'
),
-- Claim 3 - Tefcold
(
  'RK-2024-103',
  'Café Central',
  'Mohamed Ali',
  'm.ali@cafecentral.no',
  '+47 44 55 66 77',
  'Karl Johans gate 8, 0154 Oslo',
  'KUND-003',
  'Tefcold Kjøleskap',
  'UR600',
  'TEF-2023-7765',
  '2023-06-10',
  '2 år',
  'tefcold',
  'warranty',
  'Kjøleskapet holder ikke temperatur',
  'Kjøleskapet klarer ikke å holde ønsket temperatur på 4°C. Temperaturen svinger mellom 8-12°C. Kompressoren går konstant.',
  'critical',
  'trondheim',
  'Christopher Strøm',
  'MS-2024-447',
  'EV-2024-114',
  2.5,
  800.0,
  1.5,
  95.0,
  7.5,
  800.0,
  50.0,
  0.0,
  3225.0,
  'Byttet defekt termostat og rengjort kondensator. Kjølesystemet fungerer nå optimalt.',
  'Må følge opp etter en uke for å sikre stabil drift.',
  'cd5e0ac0-f013-4ffc-83f1-80424af97906',
  'under_processing'
),
-- Claim 4 - Winterhalter
(
  'RK-2024-104',
  'Grand Hotel Bergen',
  'Elisabeth Berg',
  'e.berg@grandhotelbergen.no',
  '+47 55 66 77 88',
  'Rasmus Meyers Allé 9, 5015 Bergen',
  'KUND-004',
  'Winterhalter Glassvaskmaskin',
  'UC-L Energy',
  'WIN-2023-3312',
  '2023-01-25',
  '2 år',
  'winterhalter',
  'claim',
  'Glassvask blir ikke ren',
  'Glassene kommer ut med flekker og rester av såpe. Har prøvd å justere dosering av kjemikalier uten hell. Problem startet for ca. 2 uker siden.',
  'normal',
  'bergen',
  'Christopher Strøm',
  'MS-2024-448',
  'EV-2024-115',
  3.5,
  920.0,
  0.5,
  25.0,
  7.5,
  450.0,
  200.0,
  300.0,
  4456.25,
  'Funnet tett filter og defekt skylledyse. Utført grundig rengjøring og service.',
  'Hotel fornøyd med resultatet. Anbefaler månedlig service fremover.',
  'cd5e0ac0-f013-4ffc-83f1-80424af97906',
  'sent_supplier'
),
-- Claim 5 - Comenda
(
  'RK-2024-105',
  'Skolekjøkken Vest',
  'Ingrid Haugen',
  'i.haugen@skolekjokken.no',
  '+47 51 33 22 11',
  'Skoleveien 45, 4020 Stavanger',
  'KUND-005',
  'Comenda Transportbånd oppvaskmaskin',
  'AC202',
  'COM-2022-9954',
  '2022-11-30',
  '3 år',
  'comenda',
  'extended_warranty',
  'Transportbånd stopper',
  'Transportbåndet på oppvaskmaskinen stopper tilfeldig. Ingen åpenbar grunn. Må startes manuelt hver gang.',
  'low',
  'stavanger',
  'Christopher Strøm',
  'MS-2024-449',
  'EV-2024-116',
  5.0,
  780.0,
  2.0,
  120.0,
  7.5,
  1800.0,
  100.0,
  0.0,
  6705.0,
  'Byttet motor til transportbånd og justert spenning på bånd.',
  'Skolen ønsker utvidet serviceavtale for fremtidig drift.',
  'cd5e0ac0-f013-4ffc-83f1-80424af97906',
  'awaiting_response'
),
-- Claim 6 - Rational
(
  'RK-2024-106',
  'Restaurant Fisketorget',
  'Hans Christian Olsen',
  'hc.olsen@fisketorget.no',
  '+47 77 88 99 00',
  'Fisketorget 12, 9008 Tromsø',
  'KUND-006',
  'Rational CombiMaster Plus',
  'CM Plus 61G',
  'RAT-2023-5533',
  '2023-04-12',
  '2 år',
  'rational',
  'warranty',
  'Damp fungerer ikke',
  'Dampfunksjonen på kombiovnen fungerer ikke. Kun varmluft virker. Displayet viser "Steam Error 01".',
  'high',
  'nord_norge',
  'Christopher Strøm',
  'MS-2024-450',
  'EV-2024-117',
  4.0,
  950.0,
  3.0,
  200.0,
  7.5,
  2200.0,
  75.0,
  800.0,
  7875.0,
  'Byttet defekt dampgenerator og renset vanntilførsel.',
  'Restaurant kan nå tilberede full meny igjen.',
  'cd5e0ac0-f013-4ffc-83f1-80424af97906',
  'resolved'
),
-- Claim 7 - Tefcold
(
  'RK-2024-107',
  'Delikatessen Sør',
  'Maria Santos',
  'm.santos@delikatessen.no',
  '+47 38 12 34 56',
  'Markensgate 7, 4611 Kristiansand',
  'KUND-007',
  'Tefcold Fryser',
  'UF200',
  'TEF-2023-8844',
  '2023-07-18',
  '2 år',
  'tefcold',
  'warranty',
  'Fryser ikke kald nok',
  'Fryseren holder kun -12°C i stedet for -18°C. Maten begynner å tine opp.',
  'critical',
  'kristiansand',
  'Christopher Strøm',
  'MS-2024-451',
  'EV-2024-118',
  3.0,
  820.0,
  1.0,
  55.0,
  7.5,
  900.0,
  60.0,
  0.0,
  3872.5,
  'Funnet lekkasje i kuldesystem. Utført reparasjon og fyllt på kjølevæske.',
  'Kunde ønsker service hver 6. måned for å unngå lignende problemer.',
  'cd5e0ac0-f013-4ffc-83f1-80424af97906',
  'pending_approval'
),
-- Claim 8 - Winterhalter
(
  'RK-2024-108',
  'Hotell Scandic',
  'John Andersson',
  'j.andersson@scandichotels.no',
  '+47 62 78 90 12',
  'Stortorget 1, 2609 Lillehammer',
  'KUND-008',
  'Winterhalter Underbord oppvaskmaskin',
  'UC-M',
  'WIN-2022-7721',
  '2022-09-14',
  '3 år',
  'winterhalter',
  'service_callback',
  'Høy støy fra maskin',
  'Oppvaskmaskinen lager unormal høy støy under drift. Særlig merkbart under skylleprogrammet.',
  'normal',
  'innlandet',
  'Christopher Strøm',
  'MS-2024-452',
  'EV-2024-119',
  2.0,
  880.0,
  1.5,
  80.0,
  7.5,
  300.0,
  40.0,
  0.0,
  2700.0,
  'Byttet slitte pumpelagre og justert pumpe.',
  'Maskin går nå helt stille. Hotell mycket fornøyd.',
  'cd5e0ac0-f013-4ffc-83f1-80424af97906',
  'resolved'
),
-- Claim 9 - Comenda
(
  'RK-2024-109',
  'Kantina Universitetet',
  'Dr. Anne Vikström',
  'a.vikstrom@universitet.no',
  '+47 73 45 67 89',
  'Universitetsveien 2, 7034 Trondheim',
  'KUND-009',
  'Comenda Grytevaskmaskin',
  'PK1002',
  'COM-2023-1123',
  '2023-05-22',
  '2 år',
  'comenda',
  'claim',
  'Vaskearm roterer ikke',
  'Den øvre vaskarmen roterer ikke. Vannet kommer ut, men ingen rotasjon. Grytene blir ikke ordentlig vasket.',
  'normal',
  'trondheim',
  'Christopher Strøm',
  'MS-2024-453',
  'EV-2024-120',
  1.5,
  860.0,
  0.5,
  30.0,
  7.5,
  250.0,
  30.0,
  0.0,
  1842.5,
  'Funnet tett dyse og byttet defekt rotasjonslager.',
  'Kantina kan nå vaske store gryter effektivt igjen.',
  'cd5e0ac0-f013-4ffc-83f1-80424af97906',
  'under_processing'
),
-- Claim 10 - Tefcold
(
  'RK-2024-110',
  'Seafood Express',
  'Captain Nordahl',
  'c.nordahl@seafoodexpress.no',
  '+47 91 23 45 67',
  'Havnegata 33, 8006 Bodø',
  'KUND-010',
  'Tefcold Kjøledisk',
  'VT200',
  'TEF-2023-9966',
  '2023-02-28',
  '2 år',
  'tefcold',
  'warranty',
  'Belysning fungerer ikke',
  'LED-belysningen i kjøledisken fungerer ikke. Halvparten av lysene er døde. Påvirker presentasjon av seafood.',
  'low',
  'nord_norge',
  'Christopher Strøm',
  'MS-2024-454',
  'EV-2024-121',
  1.0,
  750.0,
  2.5,
  150.0,
  7.5,
  400.0,
  20.0,
  0.0,
  2395.0,
  'Byttet defekte LED-strips og reparert løs kontakt.',
  'Fiskedisk ser nå flott ut med perfekt belysning.',
  'cd5e0ac0-f013-4ffc-83f1-80424af97906',
  'sent_supplier'
);

-- Add timeline entries for each claim
INSERT INTO public.claim_timeline (claim_id, status, changed_by, notes)
SELECT 
  c.id,
  c.status,
  c.created_by,
  CASE c.status
    WHEN 'new' THEN 'Reklamasjon opprettet'
    WHEN 'pending_approval' THEN 'Sendt til godkjenning'
    WHEN 'under_processing' THEN 'Under behandling av tekniker'
    WHEN 'sent_supplier' THEN 'Sendt til leverandør for behandling'
    WHEN 'awaiting_response' THEN 'Venter på svar fra leverandør'
    WHEN 'resolved' THEN 'Reklamasjon løst og lukket'
    ELSE 'Status oppdatert'
  END
FROM claims c
WHERE c.claim_number LIKE 'RK-2024-1%';